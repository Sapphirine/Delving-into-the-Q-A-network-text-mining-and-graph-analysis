need neither use row name creat additon id column approach base indic train set exampl data set set seed 1 dat data frame y rnorm 10 x1 rnorm 10 x2 rnorm 10 z1 rnorm 10 z2 rnorm 10 step creat analysi data set without z variablesdat2 dat grep z name dat invert true dat2 y x1 x2 1 0 6264538 1 51178117 0 91897737 2 0 1836433 0 38984324 0 78213630 3 0 8356286 0 62124058 0 07456498 4 1 5952808 2 21469989 1 98935170 5 0 3295078 1 12493092 0 61982575 6 0 8204684 0 04493361 0 05612874 7 0 4874291 0 01619026 0 15579551 8 0 7383247 0 94383621 1 47075238 9 0 5757814 0 82122120 0 47815006 10 0 3053884 0 59390132 0 41794156break data set random train test setstrain idx sampl nrow dat2 0 8 nrow dat2 train idx 1 7 4 3 10 9 2 1 5train dat2 train idx train y x1 x2 7 0 4874291 0 01619026 0 15579551 4 1 5952808 2 21469989 1 98935170 3 0 8356286 0 62124058 0 07456498 10 0 3053884 0 59390132 0 41794156 9 0 5757814 0 82122120 0 47815006 2 0 1836433 0 38984324 0 78213630 1 0 6264538 1 51178117 0 91897737 5 0 3295078 1 12493092 0 61982575test idx setdiff seq nrow dat2 train idx test idx 1 6 8test dat2 test idx test y x1 x2 6 0 8204684 0 04493361 0 05612874 8 0 7383247 0 94383621 1 47075238find best model predict train test set use model recombin train test set rowsidx order c train idx test idx dat3 rbind train test idx ident dat3 dat2 1 truerecombin data z variabl columndat4 cbind dat3 dat grep z name dat ident dat dat4 1 truein summari use indic train test data combin data row origin order