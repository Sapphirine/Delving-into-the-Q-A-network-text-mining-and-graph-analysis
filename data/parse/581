see lucen ngramtokenizerar sure use lucen similar index techniqu ?invert index store n gram document id contain ngram store highli redund raw text find ngram contain queri sub n gram would build index observ ngram e g use second lucen index substr index trie suffix tree data dynam probabl lucen reason choic use phrase queri find n gram