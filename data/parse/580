basic task effici use sql databas good support b tree base index mysql suit need perfect creat 3 tabl document tabl column id documentn gram tabl n gram id n grammap n gram document document id n gram idcreat index n gram tabl n gram string map tabl n gram id also primari key index default well oper effici insert document extract n gram insert document tabl n gram tablelookup gram quick support indexqueri n gram contain sub n gram 2 step queri base index n gram contain sub n gram 2nd tabl retriev correspond document n gram even need use join achiev oper index help lot also data suit one machin implement shard scheme like store n gram start n one server o z anoth suitabl scheme also use mongodb m sure exactli need implement index scheme mongodb get shard scheme free alreadi built